<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- ===========================
    THEME INFO
    =========================== -->    
    
    <!-- ===========================
    SITE TITLE
    =========================== -->
    <title>Merry Xmas Sara</title>
    
    <!-- ===========================
    FAVICONS
    =========================== -->
    <link rel="icon" href="img/favicon.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/apple-touch-icon-ipad-retina.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="img/apple-touch-icon-iphone-retina.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="img/apple-touch-icon-ipad.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="img/apple-touch-icon-iphone.png" />
    
    <!-- ===========================
    STYLESHEETS
    =========================== --> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animate.css">
	<link rel="stylesheet" href="css/flipclock.css">
    
    <!-- ===========================
    FONTS
    =========================== -->
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,900,600|Pacifico' rel='stylesheet' type='text/css'>
    
    <!-- ===========================
    GOOGLE ANALYTICS (Optional)
    =========================== -->
        
    <!-- #NOTE: Replace this line with your analytics code -->
    
    <!--ANALYTICS END-->

    <!--[if IE]>
        <script src="https://cdn.jsdelivr.net/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://cdn.jsdelivr.net/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    <!-- ===========================
    HERO SECTION
    =========================== -->
    <div id="hero">
        <div class="redoverlay">
            <div class="container">
                <div class="row">
                    <div class="herotext">
                        <h2 class="wow zoomInDown" data-wow-duration="3s">Ciao Sara, benvenuta <span class="glyphicon glyphicon-heart" aria-hidden="true"></span>
</h2>
                        <h1 class="wow flipInY" data-wow-delay="1s">Buon Natale!</h1>
                        <img style="margin-top: 30px" class="bigbell wow tada infinite" data-wow-duration="30s" src="img/olafhappy.png" alt="">

                    </div>
                </div>

            </div>
        </div>
    </div><!--HERO SECTION END-->
    
    <!-- ===========================
    OVERVIEW SECTION
    =========================== --> 
    <div id="overview" class="container">       
        <!--SECTIONHEAD START-->
        <div class="sectionhead">            
            <h2>Ecco il tuo regalo di <span class="highlight">Natale</span> interattivo</h2>
            <p>Come avrai notato il tuo regalo √® composto da diversi
            pacchetti, ma prima di poterli aprire devi scoprire la
            combinazione üòÅ</p>
            <hr>
        </div><!--SECTIONHEAD END-->
        
        <!--OVERVIEW ITEMS-->
        <div class="row">
            <div class="col-md-4"></div>
            <div class="col-md-4">
                <img src="img/clock.png" alt="">
                <h4>Occhio al timer</h4>
                <p>Da quando farai partire il timer, il sito ti riveler√† una
                  combinazione <span class="highlight">ogni ora</span>
                </p>
                <p>Se sei impaziente, <span class="highlight">clicca</span>
                  sui lucchetti e potrai avere degli indizi per scoprirle
                  prima.</p>
                <p>Ma tranquilla, non sono poi cos√¨ perfido... per poter
                  aprire il primo pacchetto dovrai aspettare solo <span class="highlight">5 minuti</span> üòä</p>

                <a id="startbutton" class="btn btn-danger disabled">Start</a>
                <hr>
            </div><!--ITEM END-->
            <div class="col-md-4"></div>
        </div>

        <div class="row">
            <div class="col-md-4 col-lg-4">
                <a data-toggle="modal" data-target="#hint-pink">
                  <img src="img/padlock-pink.png" alt="">
                </a>
                <h4>Lucchetto rosa</h4>
                <h1><span id="secret-pink" class="label label-success"></span></h1>
                <div class="clock" id="clock-pink"></div>

                <hr>
            </div><!--ITEM END-->

            <div class="col-md-4 col-lg-4">
                <a data-toggle="modal" data-target="#hint-blue">
                  <img src="img/padlock-blue.png" alt="">
                </a>
                <h4>Lucchetto azzurro</h4>
                <h1><span id="secret-blue" class="label label-success"></span></h1>
                <div class="clock" id="clock-blue"></div>
                <hr>

            </div><!--ITEM END-->

            <div class="col-md-4 col-lg-4">
                <a data-toggle="modal" data-target="#hint-magenta">
                  <img src="img/padlock-magenta.png" alt="">
                </a>
                <h4>Lucchetto fucsia</h4>
                <h1><span id="secret-magenta" class="label label-success"></span></h1>
                <div class="clock" id="clock-magenta"></div>
                <hr>
            </div><!--ITEM END-->

        </div><!--OVERVIEW ITEMS END-->
    </div><!--OVERVIEW SECTION END-->
    
    <!-- ===========================
    CALL-TO-ACTION SECTION
    =========================== -->
    <div class="calltoaction">
      <div class="lightoverlay">
        <div class="container">
            <div class="col-md-4">
                <img src="img/tree.gif" alt="">
            </div><!--CALL-TO-ACTION IMAGE END-->

            <div class="sectionhead content col-md-8">
                <h2>Ancora <span class="highlight">Buon Natale</span>, piccola mia</h2>
                <!-- <p>Questa √® la conclusione del tuo regalo... spero che ti sia piaciuto üòä</p> -->
            </div><!--CALL-TO-ACTION CONTENT END-->
        </div><!--CALL-TO-ACTION CONTAINER END-->
      </div><!--CALL-TO-ACTION OVERLAY END-->
    </div><!--CALL-TO-ACTION END-->

    <!-- ===========================
    Hint-on-click modals
    =========================== -->
    
    <!-- Modal -->
    <div class="modal fade" id="hint-pink" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Lucchetto rosa</h4>
          </div>
          <div class="modal-body">
            <p>
              Hey, ma sei proprio impaziente! Non riesci neppure ad aspettare 5 minuti? üòõ
            </p>
            <p>
              Comunque, aprire questo lucchetto √® molto semplice... guardiamo
              se ti ricordi la data del <span class="highlight">mio compleanno</span> üòâ.
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- Modal -->
    <div class="modal fade" id="hint-blue" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Lucchetto azzurro</h4>
          </div>
          <div class="modal-body">
            <p>
              Dai, anche questo √® facile: la combinazione corrisponde ad <span class="highlight">una
                delle date pi√π importanti del 2015</span>. Devi solo scoprire quale!
            </p>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- Modal -->
    <div class="modal fade" id="hint-magenta" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
            <h4 class="modal-title" id="myModalLabel">Lucchetto fucsia</h4>
          </div>
          <div class="modal-body">
            <p>
              Ti piacciono i puzzle? Beh, meglio cos√¨ perch√© per aprire questo
              lucchetto dovrai risolverne uno.
            </p>
            <p>
              La foto non l'ho scelta a caso: quando ti ho chiesto di farla,
              avevo gi√† in mente di usarla per questo giochino üòä.
            </p>
          </div>
          <div class="modal-footer">
            <a href="puzzle/puzzle.html" class="btn btn-primary">Gioca</a>
            <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->

    <!-- ===========================
    NECESSARY SCRIPTS
    =========================== --> 
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script src="js/evenfly.js"></script>
    <script src="js/jquery.nicescroll.min.js"></script>
    <script src="js/wow.min.js"></script>
    <script src="js/snowstorm-min.js"></script>
	<script src="js/flipclock.min.js"></script>
    <script>new WOW().init();</script>
    <!-- <script>snowStorm.excludeMobile = false;</script> -->
    <script>
        function on_status(data) {
            function do_clock(color, clock_data) {
                var idclock = "#clock-" + color;
                var idsecret = "#secret-" + color;

                var status = clock_data[0];
                if (status == "secret") {
                    var secret = clock_data[1];
                    $(idclock).fadeOut();
                    $(idsecret).text(secret).delay(400).fadeIn();
                    return;
                }
                var delay = clock_data[1];
                $(idsecret).hide();
                var clock = $(idclock).show().FlipClock(delay, {
                    clockFace: 'HourlyCounter',
                    countdown: true,
                    language: 'it',
                    autoStart: false
                });
                if (status == "started") {
                    clock.start();
                    setTimeout(update_status, (delay+1)*1000);
                }
                else {
                    $('#startbutton').removeClass('disabled');
                }

            }
            do_clock('pink', data.pink);
            do_clock('blue', data.blue);
            do_clock('magenta', data.magenta);
        }

        $('#startbutton').on('click', function(e) {
            $('#startbutton').addClass('disabled');
            $.getJSON("/start", on_status);
        });

        function update_status() {
            $.getJSON("/status", on_status);
        }

        $(document).ready(function() {
            update_status();
        });
    </script>

</body>
</html>
